{
"version":3,
"file":"cc_nav.js",
"sourceRoot":"file:///",
"sources":["/Users/matthijs/Documents/GIT/drop-in-off-canvas-menu/src/Main.hx"],
"sourcesContent":["package;\n\nimport js.Browser.*;\nimport js.html.XMLHttpRequest;\n\nclass Main {\n\tvar url = \"nav.html\";\n\tvar req = new XMLHttpRequest();\n\n\tpublic function new() {\n\t\ttrace('dd');\n\n\t\t// ficons add to document\n\t\tvar link = document.createLinkElement();\n\t\tlink.href = \"https://cdn.jsdelivr.net/npm/ficons@1.1.52/dist/ficons/font.css\";\n\t\tlink.rel = \"stylesheet\";\n\t\tdocument.head.appendChild(link);\n\n\t\t// basic stuff for menu\n\t\tvar input = htmlToElement('<input type=\"checkbox\" id=\"menu-toggle\" />');\n\t\tvar label = htmlToElement('<label for=\"menu-toggle\" class=\"menu-icon\"><i class=\"fa fa-bars\"></i></label>');\n\t\tdocument.body.prepend(label);\n\t\tdocument.body.prepend(input);\n\n\t\t// <nav id=\"storage\" class=\"slideout-sidebar\" style=\"display:_none;\"></nav>\n\t\tvar nav = document.createElement('nav');\n\t\tnav.id = \"storage\";\n\t\tnav.className = \"slideout-sidebar\";\n\t\tdocument.body.append(nav);\n\n\t\t// storage\n\t\tloadHTML(url, document.getElementById(\"storage\"));\n\t}\n\n\tfunction htmlToElement(html:String) {\n\t\tvar template = document.createDivElement();\n\t\thtml = untyped html.trim(); // Never return a text node of whitespace as the result\n\t\ttemplate.innerHTML = html;\n\t\treturn template.firstChild;\n\t}\n\n\tfunction loadHTML(?url:String, ?el:js.html.Element) {\n\t\t// your code\n\t\treq.open('GET', url);\n\t\treq.onload = function() {\n\t\t\t// trace(req.response);\n\t\t\tvar body = getBody(req.response);\n\t\t\t// trace(body);\n\t\t\tif (body == \"\")\n\t\t\t\tbody = req.response;\n\t\t\tprocessHTML(body, document.getElementById(\"storage\"));\n\t\t\t// trace( document.getElementById(\"storage\"));\n\t\t};\n\n\t\treq.onerror = function(error) {\n\t\t\tconsole.error('[JS] error: $error');\n\t\t};\n\n\t\treq.send();\n\t}\n\n\tfunction getBody(html) {\n\t\tvar test:String = html.toLowerCase(); // to eliminate case sensitivity\n\t\tvar x:Int = test.indexOf(\"<body\");\n\t\tif (x == -1)\n\t\t\treturn \"\";\n\n\t\tx = test.indexOf(\">\", x);\n\t\tif (x == -1)\n\t\t\treturn \"\";\n\t\tvar y = test.lastIndexOf(\"</body>\");\n\t\tif (y == -1)\n\t\t\ty = test.lastIndexOf(\"</html>\");\n\t\tif (y == -1)\n\t\t\ty = html.length; // If no HTML then just grab everything till end\n\t\treturn html.slice(x + 1, y);\n\t}\n\n\tfunction processHTML(content:String, target:js.html.Element) {\n\t\ttarget.innerHTML = content;\n\t}\n\n\tstatic public function main() {\n\t\tvar app = new Main();\n\t}\n}\n"],
"names":[],
"mappings":";;WASC,WAJD;AAAA,CAEW,AAAV,WAAU;AAFX,CACW,AAAV,WAAU;AADX,CAKE,8BAAO;AALT,CAQE,WAAW;AARb,CASE,YAAY;AATd,CAUE,WAAW;AAVb,CAWE,iCAA0B;AAX5B,CAcE,YAAY,mBAAe;AAd7B,CAeE,YAAY,mBAAe;AAf7B,CAgBE,6BAAsB;AAhBxB,CAiBE,6BAAsB;AAjBxB,CAoBE,UAAU,8BAAwB;AApBpC,CAqBE,SAAS;AArBX,CAsBE,gBAAgB;AAtBlB,CAuBE,4BAAqB;AAvBvB,CA0BE,cAAS,SAAK,+BAAwB;AA1BxC;YA6EC,WACC;AAAA,WAAU;AAAV;;gBAjDD,eAAoC;AAAA,EACnC,eAAe;AADoB,EAEnC,OAAe;AAFoB,EAGnC,qBAAqB;AAHc,EAInC,OAAO;AAJ4B;YAOpC,iBAAoD;AAAA,EAApD;AAAoD,EAEnD,cAAU,MAAM;AAFmC,EAGnD,kBAAa,WAAW;AAAA,GAEvB,WAAW,eAAQ;AAFI,GAIvB,EAAI,SAAQ,IACX;AAAA,WAAO;AAAP;AALsB,GAMvB,mBAAY,KAAM,+BAAwB;AANnB;AAH2B,EAanD,mBAAc,gBACb;AAAA,wBAAe,iBAAa;AAA5B;AAdkD,EAiBnD;AAjBmD;WAoBpD,eAAuB;AAAA,EACtB,WAAkB;AADI,EAEtB,QAAY,aAAa;AAFH,EAGtB,EAAI,MAAK,IACR;AAAA,UAAO;AAAP;AAJqB,EAMtB,IAAI,aAAa,IAAK;AANA,EAOtB,EAAI,MAAK,IACR;AAAA,UAAO;AAAP;AARqB,EAStB,QAAQ,iBAAiB;AATH,EAUtB,EAAI,MAAK,IACR;AAAA,OAAI,iBAAiB;AAArB;AAXqB,EAYtB,EAAI,MAAK,IACR;AAAA,OAAI;AAAJ;AAbqB,EActB,OAAO,WAAW,IAAI,EAAG;AAdH;eAiBvB,yBACC;AAAA,qBAAmB;AAAnB;;;;;"
}